#!/bin/bash

: load bytes

function test {
  typeset newline

  [[ $(bytes.chr   1) = $'\x01' ]] || return 1
  [[ $(bytes.chr   2) = $'\x02' ]] || return 1
  [[ $(bytes.chr   3) = $'\x03' ]] || return 1
  [[ $(bytes.chr   4) = $'\x04' ]] || return 1
  [[ $(bytes.chr   5) = $'\x05' ]] || return 1
  [[ $(bytes.chr   6) = $'\x06' ]] || return 1
  [[ $(bytes.chr   7) = $'\x07' ]] || return 1
  [[ $(bytes.chr   8) = $'\x08' ]] || return 1
  [[ $(bytes.chr   9) = $'\x09' ]] || return 1

  IFS= read -rd '' newline <  <(bytes.chr  10)
  [[ $newline = $'\x0a' ]] || return 1

  [[ $(bytes.chr  11) = $'\x0b' ]] || return 1
  [[ $(bytes.chr  12) = $'\x0c' ]] || return 1
  [[ $(bytes.chr  13) = $'\x0d' ]] || return 1
  [[ $(bytes.chr  14) = $'\x0e' ]] || return 1
  [[ $(bytes.chr  15) = $'\x0f' ]] || return 1
  [[ $(bytes.chr  16) = $'\x10' ]] || return 1
  [[ $(bytes.chr  17) = $'\x11' ]] || return 1
  [[ $(bytes.chr  18) = $'\x12' ]] || return 1
  [[ $(bytes.chr  19) = $'\x13' ]] || return 1
  [[ $(bytes.chr  20) = $'\x14' ]] || return 1
  [[ $(bytes.chr  21) = $'\x15' ]] || return 1
  [[ $(bytes.chr  22) = $'\x16' ]] || return 1
  [[ $(bytes.chr  23) = $'\x17' ]] || return 1
  [[ $(bytes.chr  24) = $'\x18' ]] || return 1
  [[ $(bytes.chr  25) = $'\x19' ]] || return 1
  [[ $(bytes.chr  26) = $'\x1a' ]] || return 1
  [[ $(bytes.chr  27) = $'\x1b' ]] || return 1
  [[ $(bytes.chr  28) = $'\x1c' ]] || return 1
  [[ $(bytes.chr  29) = $'\x1d' ]] || return 1
  [[ $(bytes.chr  30) = $'\x1e' ]] || return 1
  [[ $(bytes.chr  31) = $'\x1f' ]] || return 1
  [[ $(bytes.chr  32) = $'\x20' ]] || return 1
  [[ $(bytes.chr  33) = $'\x21' ]] || return 1
  [[ $(bytes.chr  34) = $'\x22' ]] || return 1
  [[ $(bytes.chr  35) = $'\x23' ]] || return 1
  [[ $(bytes.chr  36) = $'\x24' ]] || return 1
  [[ $(bytes.chr  37) = $'\x25' ]] || return 1
  [[ $(bytes.chr  38) = $'\x26' ]] || return 1
  [[ $(bytes.chr  39) = $'\x27' ]] || return 1
  [[ $(bytes.chr  40) = $'\x28' ]] || return 1
  [[ $(bytes.chr  41) = $'\x29' ]] || return 1
  [[ $(bytes.chr  42) = $'\x2a' ]] || return 1
  [[ $(bytes.chr  43) = $'\x2b' ]] || return 1
  [[ $(bytes.chr  44) = $'\x2c' ]] || return 1
  [[ $(bytes.chr  45) = $'\x2d' ]] || return 1
  [[ $(bytes.chr  46) = $'\x2e' ]] || return 1
  [[ $(bytes.chr  47) = $'\x2f' ]] || return 1
  [[ $(bytes.chr  48) = $'\x30' ]] || return 1
  [[ $(bytes.chr  49) = $'\x31' ]] || return 1
  [[ $(bytes.chr  50) = $'\x32' ]] || return 1
  [[ $(bytes.chr  51) = $'\x33' ]] || return 1
  [[ $(bytes.chr  52) = $'\x34' ]] || return 1
  [[ $(bytes.chr  53) = $'\x35' ]] || return 1
  [[ $(bytes.chr  54) = $'\x36' ]] || return 1
  [[ $(bytes.chr  55) = $'\x37' ]] || return 1
  [[ $(bytes.chr  56) = $'\x38' ]] || return 1
  [[ $(bytes.chr  57) = $'\x39' ]] || return 1
  [[ $(bytes.chr  58) = $'\x3a' ]] || return 1
  [[ $(bytes.chr  59) = $'\x3b' ]] || return 1
  [[ $(bytes.chr  60) = $'\x3c' ]] || return 1
  [[ $(bytes.chr  61) = $'\x3d' ]] || return 1
  [[ $(bytes.chr  62) = $'\x3e' ]] || return 1
  [[ $(bytes.chr  63) = $'\x3f' ]] || return 1
  [[ $(bytes.chr  64) = $'\x40' ]] || return 1
  [[ $(bytes.chr  65) = $'\x41' ]] || return 1
  [[ $(bytes.chr  66) = $'\x42' ]] || return 1
  [[ $(bytes.chr  67) = $'\x43' ]] || return 1
  [[ $(bytes.chr  68) = $'\x44' ]] || return 1
  [[ $(bytes.chr  69) = $'\x45' ]] || return 1
  [[ $(bytes.chr  70) = $'\x46' ]] || return 1
  [[ $(bytes.chr  71) = $'\x47' ]] || return 1
  [[ $(bytes.chr  72) = $'\x48' ]] || return 1
  [[ $(bytes.chr  73) = $'\x49' ]] || return 1
  [[ $(bytes.chr  74) = $'\x4a' ]] || return 1
  [[ $(bytes.chr  75) = $'\x4b' ]] || return 1
  [[ $(bytes.chr  76) = $'\x4c' ]] || return 1
  [[ $(bytes.chr  77) = $'\x4d' ]] || return 1
  [[ $(bytes.chr  78) = $'\x4e' ]] || return 1
  [[ $(bytes.chr  79) = $'\x4f' ]] || return 1
  [[ $(bytes.chr  80) = $'\x50' ]] || return 1
  [[ $(bytes.chr  81) = $'\x51' ]] || return 1
  [[ $(bytes.chr  82) = $'\x52' ]] || return 1
  [[ $(bytes.chr  83) = $'\x53' ]] || return 1
  [[ $(bytes.chr  84) = $'\x54' ]] || return 1
  [[ $(bytes.chr  85) = $'\x55' ]] || return 1
  [[ $(bytes.chr  86) = $'\x56' ]] || return 1
  [[ $(bytes.chr  87) = $'\x57' ]] || return 1
  [[ $(bytes.chr  88) = $'\x58' ]] || return 1
  [[ $(bytes.chr  89) = $'\x59' ]] || return 1
  [[ $(bytes.chr  90) = $'\x5a' ]] || return 1
  [[ $(bytes.chr  91) = $'\x5b' ]] || return 1
  [[ $(bytes.chr  92) = $'\x5c' ]] || return 1
  [[ $(bytes.chr  93) = $'\x5d' ]] || return 1
  [[ $(bytes.chr  94) = $'\x5e' ]] || return 1
  [[ $(bytes.chr  95) = $'\x5f' ]] || return 1
  [[ $(bytes.chr  96) = $'\x60' ]] || return 1
  [[ $(bytes.chr  97) = $'\x61' ]] || return 1
  [[ $(bytes.chr  98) = $'\x62' ]] || return 1
  [[ $(bytes.chr  99) = $'\x63' ]] || return 1
  [[ $(bytes.chr 100) = $'\x64' ]] || return 1
  [[ $(bytes.chr 101) = $'\x65' ]] || return 1
  [[ $(bytes.chr 102) = $'\x66' ]] || return 1
  [[ $(bytes.chr 103) = $'\x67' ]] || return 1
  [[ $(bytes.chr 104) = $'\x68' ]] || return 1
  [[ $(bytes.chr 105) = $'\x69' ]] || return 1
  [[ $(bytes.chr 106) = $'\x6a' ]] || return 1
  [[ $(bytes.chr 107) = $'\x6b' ]] || return 1
  [[ $(bytes.chr 108) = $'\x6c' ]] || return 1
  [[ $(bytes.chr 109) = $'\x6d' ]] || return 1
  [[ $(bytes.chr 110) = $'\x6e' ]] || return 1
  [[ $(bytes.chr 111) = $'\x6f' ]] || return 1
  [[ $(bytes.chr 112) = $'\x70' ]] || return 1
  [[ $(bytes.chr 113) = $'\x71' ]] || return 1
  [[ $(bytes.chr 114) = $'\x72' ]] || return 1
  [[ $(bytes.chr 115) = $'\x73' ]] || return 1
  [[ $(bytes.chr 116) = $'\x74' ]] || return 1
  [[ $(bytes.chr 117) = $'\x75' ]] || return 1
  [[ $(bytes.chr 118) = $'\x76' ]] || return 1
  [[ $(bytes.chr 119) = $'\x77' ]] || return 1
  [[ $(bytes.chr 120) = $'\x78' ]] || return 1
  [[ $(bytes.chr 121) = $'\x79' ]] || return 1
  [[ $(bytes.chr 122) = $'\x7a' ]] || return 1
  [[ $(bytes.chr 123) = $'\x7b' ]] || return 1
  [[ $(bytes.chr 124) = $'\x7c' ]] || return 1
  [[ $(bytes.chr 125) = $'\x7d' ]] || return 1
  [[ $(bytes.chr 126) = $'\x7e' ]] || return 1
  [[ $(bytes.chr 127) = $'\x7f' ]] || return 1
  [[ $(bytes.chr 128) = $'\x80' ]] || return 1
  [[ $(bytes.chr 129) = $'\x81' ]] || return 1
  [[ $(bytes.chr 130) = $'\x82' ]] || return 1
  [[ $(bytes.chr 131) = $'\x83' ]] || return 1
  [[ $(bytes.chr 132) = $'\x84' ]] || return 1
  [[ $(bytes.chr 133) = $'\x85' ]] || return 1
  [[ $(bytes.chr 134) = $'\x86' ]] || return 1
  [[ $(bytes.chr 135) = $'\x87' ]] || return 1
  [[ $(bytes.chr 136) = $'\x88' ]] || return 1
  [[ $(bytes.chr 137) = $'\x89' ]] || return 1
  [[ $(bytes.chr 138) = $'\x8a' ]] || return 1
  [[ $(bytes.chr 139) = $'\x8b' ]] || return 1
  [[ $(bytes.chr 140) = $'\x8c' ]] || return 1
  [[ $(bytes.chr 141) = $'\x8d' ]] || return 1
  [[ $(bytes.chr 142) = $'\x8e' ]] || return 1
  [[ $(bytes.chr 143) = $'\x8f' ]] || return 1
  [[ $(bytes.chr 144) = $'\x90' ]] || return 1
  [[ $(bytes.chr 145) = $'\x91' ]] || return 1
  [[ $(bytes.chr 146) = $'\x92' ]] || return 1
  [[ $(bytes.chr 147) = $'\x93' ]] || return 1
  [[ $(bytes.chr 148) = $'\x94' ]] || return 1
  [[ $(bytes.chr 149) = $'\x95' ]] || return 1
  [[ $(bytes.chr 150) = $'\x96' ]] || return 1
  [[ $(bytes.chr 151) = $'\x97' ]] || return 1
  [[ $(bytes.chr 152) = $'\x98' ]] || return 1
  [[ $(bytes.chr 153) = $'\x99' ]] || return 1
  [[ $(bytes.chr 154) = $'\x9a' ]] || return 1
  [[ $(bytes.chr 155) = $'\x9b' ]] || return 1
  [[ $(bytes.chr 156) = $'\x9c' ]] || return 1
  [[ $(bytes.chr 157) = $'\x9d' ]] || return 1
  [[ $(bytes.chr 158) = $'\x9e' ]] || return 1
  [[ $(bytes.chr 159) = $'\x9f' ]] || return 1
  [[ $(bytes.chr 160) = $'\xa0' ]] || return 1
  [[ $(bytes.chr 161) = $'\xa1' ]] || return 1
  [[ $(bytes.chr 162) = $'\xa2' ]] || return 1
  [[ $(bytes.chr 163) = $'\xa3' ]] || return 1
  [[ $(bytes.chr 164) = $'\xa4' ]] || return 1
  [[ $(bytes.chr 165) = $'\xa5' ]] || return 1
  [[ $(bytes.chr 166) = $'\xa6' ]] || return 1
  [[ $(bytes.chr 167) = $'\xa7' ]] || return 1
  [[ $(bytes.chr 168) = $'\xa8' ]] || return 1
  [[ $(bytes.chr 169) = $'\xa9' ]] || return 1
  [[ $(bytes.chr 170) = $'\xaa' ]] || return 1
  [[ $(bytes.chr 171) = $'\xab' ]] || return 1
  [[ $(bytes.chr 172) = $'\xac' ]] || return 1
  [[ $(bytes.chr 173) = $'\xad' ]] || return 1
  [[ $(bytes.chr 174) = $'\xae' ]] || return 1
  [[ $(bytes.chr 175) = $'\xaf' ]] || return 1
  [[ $(bytes.chr 176) = $'\xb0' ]] || return 1
  [[ $(bytes.chr 177) = $'\xb1' ]] || return 1
  [[ $(bytes.chr 178) = $'\xb2' ]] || return 1
  [[ $(bytes.chr 179) = $'\xb3' ]] || return 1
  [[ $(bytes.chr 180) = $'\xb4' ]] || return 1
  [[ $(bytes.chr 181) = $'\xb5' ]] || return 1
  [[ $(bytes.chr 182) = $'\xb6' ]] || return 1
  [[ $(bytes.chr 183) = $'\xb7' ]] || return 1
  [[ $(bytes.chr 184) = $'\xb8' ]] || return 1
  [[ $(bytes.chr 185) = $'\xb9' ]] || return 1
  [[ $(bytes.chr 186) = $'\xba' ]] || return 1
  [[ $(bytes.chr 187) = $'\xbb' ]] || return 1
  [[ $(bytes.chr 188) = $'\xbc' ]] || return 1
  [[ $(bytes.chr 189) = $'\xbd' ]] || return 1
  [[ $(bytes.chr 190) = $'\xbe' ]] || return 1
  [[ $(bytes.chr 191) = $'\xbf' ]] || return 1
  [[ $(bytes.chr 192) = $'\xc0' ]] || return 1
  [[ $(bytes.chr 193) = $'\xc1' ]] || return 1
  [[ $(bytes.chr 194) = $'\xc2' ]] || return 1
  [[ $(bytes.chr 195) = $'\xc3' ]] || return 1
  [[ $(bytes.chr 196) = $'\xc4' ]] || return 1
  [[ $(bytes.chr 197) = $'\xc5' ]] || return 1
  [[ $(bytes.chr 198) = $'\xc6' ]] || return 1
  [[ $(bytes.chr 199) = $'\xc7' ]] || return 1
  [[ $(bytes.chr 200) = $'\xc8' ]] || return 1
  [[ $(bytes.chr 201) = $'\xc9' ]] || return 1
  [[ $(bytes.chr 202) = $'\xca' ]] || return 1
  [[ $(bytes.chr 203) = $'\xcb' ]] || return 1
  [[ $(bytes.chr 204) = $'\xcc' ]] || return 1
  [[ $(bytes.chr 205) = $'\xcd' ]] || return 1
  [[ $(bytes.chr 206) = $'\xce' ]] || return 1
  [[ $(bytes.chr 207) = $'\xcf' ]] || return 1
  [[ $(bytes.chr 208) = $'\xd0' ]] || return 1
  [[ $(bytes.chr 209) = $'\xd1' ]] || return 1
  [[ $(bytes.chr 210) = $'\xd2' ]] || return 1
  [[ $(bytes.chr 211) = $'\xd3' ]] || return 1
  [[ $(bytes.chr 212) = $'\xd4' ]] || return 1
  [[ $(bytes.chr 213) = $'\xd5' ]] || return 1
  [[ $(bytes.chr 214) = $'\xd6' ]] || return 1
  [[ $(bytes.chr 215) = $'\xd7' ]] || return 1
  [[ $(bytes.chr 216) = $'\xd8' ]] || return 1
  [[ $(bytes.chr 217) = $'\xd9' ]] || return 1
  [[ $(bytes.chr 218) = $'\xda' ]] || return 1
  [[ $(bytes.chr 219) = $'\xdb' ]] || return 1
  [[ $(bytes.chr 220) = $'\xdc' ]] || return 1
  [[ $(bytes.chr 221) = $'\xdd' ]] || return 1
  [[ $(bytes.chr 222) = $'\xde' ]] || return 1
  [[ $(bytes.chr 223) = $'\xdf' ]] || return 1
  [[ $(bytes.chr 224) = $'\xe0' ]] || return 1
  [[ $(bytes.chr 225) = $'\xe1' ]] || return 1
  [[ $(bytes.chr 226) = $'\xe2' ]] || return 1
  [[ $(bytes.chr 227) = $'\xe3' ]] || return 1
  [[ $(bytes.chr 228) = $'\xe4' ]] || return 1
  [[ $(bytes.chr 229) = $'\xe5' ]] || return 1
  [[ $(bytes.chr 230) = $'\xe6' ]] || return 1
  [[ $(bytes.chr 231) = $'\xe7' ]] || return 1
  [[ $(bytes.chr 232) = $'\xe8' ]] || return 1
  [[ $(bytes.chr 233) = $'\xe9' ]] || return 1
  [[ $(bytes.chr 234) = $'\xea' ]] || return 1
  [[ $(bytes.chr 235) = $'\xeb' ]] || return 1
  [[ $(bytes.chr 236) = $'\xec' ]] || return 1
  [[ $(bytes.chr 237) = $'\xed' ]] || return 1
  [[ $(bytes.chr 238) = $'\xee' ]] || return 1
  [[ $(bytes.chr 239) = $'\xef' ]] || return 1
  [[ $(bytes.chr 240) = $'\xf0' ]] || return 1
  [[ $(bytes.chr 241) = $'\xf1' ]] || return 1
  [[ $(bytes.chr 242) = $'\xf2' ]] || return 1
  [[ $(bytes.chr 243) = $'\xf3' ]] || return 1
  [[ $(bytes.chr 244) = $'\xf4' ]] || return 1
  [[ $(bytes.chr 245) = $'\xf5' ]] || return 1
  [[ $(bytes.chr 246) = $'\xf6' ]] || return 1
  [[ $(bytes.chr 247) = $'\xf7' ]] || return 1
  [[ $(bytes.chr 248) = $'\xf8' ]] || return 1
  [[ $(bytes.chr 249) = $'\xf9' ]] || return 1
  [[ $(bytes.chr 250) = $'\xfa' ]] || return 1
  [[ $(bytes.chr 251) = $'\xfb' ]] || return 1
  [[ $(bytes.chr 252) = $'\xfc' ]] || return 1
  [[ $(bytes.chr 253) = $'\xfd' ]] || return 1
  [[ $(bytes.chr 254) = $'\xfe' ]] || return 1
  [[ $(bytes.chr 255) = $'\xff' ]] || return 1

  return 0
}

test

# :r ! awk 'BEGIN{for(i=1;i<256;i++){printf "  [[ $(bytes.chr \%03s) = $'\''\\x\%02x'\'' ]] || return 1\n", i, i}}'
